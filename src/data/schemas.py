from google.cloud import bigquery
from typing import Dict, List

SCHEMA_DEFINITIONS = {
    "loyalty_customer_dim": [
        bigquery.SchemaField("created_at", "TIMESTAMP", description="The date and time when the record was created."),
        bigquery.SchemaField("updated_at", "TIMESTAMP", description="The date and time when the record was last updated."),
        bigquery.SchemaField("cardnumber", "STRING", description="Unique identifier for the customers membership card."),
        bigquery.SchemaField("first_name", "STRING", description="First name of the customer."),
        bigquery.SchemaField("middle_name", "STRING", description="Middle name of the customer, if applicable."),
        bigquery.SchemaField("last_name", "STRING", description="Last name of the customer."),
        bigquery.SchemaField("address1", "STRING", description="First line of the customers address."),
        bigquery.SchemaField("address2", "STRING", description="Second line of the customers address, if applicable."),
        bigquery.SchemaField("city", "STRING", description="City where the customer resides."),
        bigquery.SchemaField("state", "STRING", description="State where the customer resides."),
        bigquery.SchemaField("zip", "STRING", description="Postal code of the customers address."),
        bigquery.SchemaField("country", "STRING", description="Country where the customer resides."),
        bigquery.SchemaField("phone", "STRING", description="Customers phone number."),
        bigquery.SchemaField("mobile", "STRING", description="Customers mobile phone number."),
        bigquery.SchemaField("activation_date", "DATE", description="Date when the customers membership was activated."),
        bigquery.SchemaField("cancellation_date", "DATE", description="Date when the customers membership was canceled."),
        bigquery.SchemaField("last_purchase_date", "DATE", description="Date of the customers last purchase."),
        bigquery.SchemaField("last_redemption_date", "DATE", description="Date of the customers last redemption."),
        bigquery.SchemaField("enrollment_status", "INTEGER", description="Enrollment status of card. 0 = unenrolled, 1 = enrolled, 2 = on hold (all points issued to card will require review before being awarded), 9 = cancelled"),
        bigquery.SchemaField("birth_date", "DATE", description="Represents the customers birth date, allowing for age-based segmentation and personalized offers."),
        bigquery.SchemaField("opt_in", "STRING", description="Indicates whether the customer has opted-in for promotional communications. Y/N Flag"),
        bigquery.SchemaField("gender", "INTEGER", description="Represents the customers gender, allowing for targeted marketing and demographic analysis. Info provided by the customer (1 = Female, 2 = Male)"),
        bigquery.SchemaField("drivers_license", "STRING", description="The customers drivers license number, used for identification and age verification."),
        bigquery.SchemaField("mothers_maiden", "STRING", description="The customers mothers maiden name, used for identification and age verification."),
        bigquery.SchemaField("parent_card_number", "STRING", description="Provided by the server"),
        bigquery.SchemaField("trigger_group", "INTEGER", description="Represents the customers trigger Promotion groups, allowing for targeted marketing and segmentation."),
        bigquery.SchemaField("first_transaction_location_id", "STRING", description="Identifies the location of the customers first transaction, allowing for personalized offers and tracking."),
        bigquery.SchemaField("first_transaction_date", "STRING", description="Represents the date of the customers first transaction, allowing for tracking and personalized offers."),
        bigquery.SchemaField("dollars_redeemed", "INTEGER", description="Represents the total amount of dollars redeemed by the customer, allowing for tracking and personalized offers."),
        bigquery.SchemaField("lifetime_points", "INTEGER", description="Represents the total lifetime points earned by the customer, allowing for tracking and personalized offers."),
        bigquery.SchemaField("first_transaction_cashier", "INTEGER", description="Only if POS provides"),
        bigquery.SchemaField("location_enrolled", "STRING", description="The location id where the customer enrolled (only populated if the customer used an in-store kiosk to enroll)"),
        bigquery.SchemaField("age", "INTEGER", description="Represents the customers age, allowing for age-based segmentation and personalized offers."),
        bigquery.SchemaField("business_date", "STRING", description="Business_date represents the date the file was received by Sheetz"),
        bigquery.SchemaField("load_date", "TIMESTAMP", description="The date and time when the file for this row was loaded into Databricks"),
        bigquery.SchemaField("file_path", "STRING", description="Represents the file path where the raw data is stored, allowing tracking of data storage locations.")
    ],

    "store_dim": [
        bigquery.SchemaField("store_number", "INTEGER"),
        bigquery.SchemaField("store_number_label", "STRING"),
        bigquery.SchemaField("ATM", "STRING"),
        bigquery.SchemaField("Access_Points", "INTEGER"),
        bigquery.SchemaField("Alcohol_Type", "STRING"),
        bigquery.SchemaField("Allow_Pct_Shrink_Grocery", "FLOAT64"),
        bigquery.SchemaField("At_Divided_Highway", "BOOLEAN"),
        bigquery.SchemaField("Auto_Diesel_Dispenser_Cnt", "INTEGER"),
        bigquery.SchemaField("BMS_Status", "STRING"),
        bigquery.SchemaField("Beer_Wine", "BOOLEAN"),
        bigquery.SchemaField("Big_6_Ice_Cream", "STRING"),
        bigquery.SchemaField("Bitcoin_Kiosk", "STRING"),
        bigquery.SchemaField("Board_Market", "STRING"),
        bigquery.SchemaField("Brand_Refresh", "DATE"),
        bigquery.SchemaField("Building_Type", "STRING"),
        bigquery.SchemaField("Bulk_DEF", "BOOLEAN"),
        bigquery.SchemaField("Car_Wash_Brand", "BOOLEAN"),
        bigquery.SchemaField("Car_Wash_Region", "STRING"),
        bigquery.SchemaField("Car_Wash_Type", "BOOLEAN"),
        bigquery.SchemaField("Carwash_ICS_Site_ID", "INTEGER"),
        bigquery.SchemaField("Cig_Market", "STRING"),
        bigquery.SchemaField("City", "STRING"),
        bigquery.SchemaField("Close_Date", "DATE"),
        bigquery.SchemaField("Coffee_Brewers", "STRING"),
        bigquery.SchemaField("Coke_Freestyle", "BOOLEAN"),
        bigquery.SchemaField("Community", "BOOLEAN"),
        bigquery.SchemaField("Construction_Maintenance", "STRING"),
        bigquery.SchemaField("Corner_Location", "BOOLEAN"),
        bigquery.SchemaField("County", "STRING"),
        bigquery.SchemaField("Crypto_Currency_Acceptance", "STRING"),
        bigquery.SchemaField("Curbside", "BOOLEAN"),
        bigquery.SchemaField("DMA", "STRING"),
        bigquery.SchemaField("Delivery", "BOOLEAN"),
        bigquery.SchemaField("Diesel", "BOOLEAN"),
        bigquery.SchemaField("Diesel_Pumps", "INTEGER"),
        bigquery.SchemaField("District_Manager", "STRING"),
        bigquery.SchemaField("District_Manager_Employee_ID", "INTEGER"),
        bigquery.SchemaField("District_Number", "STRING"),
        bigquery.SchemaField("Divided_Side_Road", "BOOLEAN"),
        bigquery.SchemaField("Door_Dash", "BOOLEAN"),
        bigquery.SchemaField("Drive_Thru", "BOOLEAN"),
        bigquery.SchemaField("Drive_Thru_POS_Number", "INTEGER"),
        bigquery.SchemaField("E0_Gas", "BOOLEAN"),
        bigquery.SchemaField("E15_Gas", "BOOLEAN"),
        bigquery.SchemaField("E85_Gas", "BOOLEAN"),
        bigquery.SchemaField("EV_Charger_Plug_Type", "STRING"),
        bigquery.SchemaField("EV_PARKING_TOTAL_STALLS", "INTEGER"),
        bigquery.SchemaField("EV_PLUGTYPE_CCS", "BOOLEAN"),
        bigquery.SchemaField("EV_PLUGTYPE_CHADEMO", "BOOLEAN"),
        bigquery.SchemaField("EV_PLUGTYPE_J1772", "BOOLEAN"),
        bigquery.SchemaField("EV_PLUGTYPE_NACS", "BOOLEAN"),
        bigquery.SchemaField("EV_POWER_MAX", "FLOAT64"),
        bigquery.SchemaField("Electric_Vehicle_Charger", "BOOLEAN"),
        bigquery.SchemaField("Espresso_Machine", "STRING"),
        bigquery.SchemaField("FEIN", "STRING"),
        bigquery.SchemaField("Fax_Telephone_Number", "STRING"),
        bigquery.SchemaField("Flex_Coverage_Start_Date", "DATE"),
        bigquery.SchemaField("Fryers", "STRING"),
        bigquery.SchemaField("Fuelman_Site_ID", "INTEGER"),
        bigquery.SchemaField("Full_Time_Employees", "INTEGER"),
        bigquery.SchemaField("Going_Home_Work", "STRING"),
        bigquery.SchemaField("Grub_Hub", "BOOLEAN"),
        bigquery.SchemaField("HFTD_System", "STRING"),
        bigquery.SchemaField("Heating_Source", "STRING"),
        bigquery.SchemaField("High_Flow_Auto_Disp_Cnt", "INTEGER"),
        bigquery.SchemaField("Hours_Closed", "STRING"),
        bigquery.SchemaField("In_Store_Available", "BOOLEAN"),
        bigquery.SchemaField("Inside_Seating", "INTEGER"),
        bigquery.SchemaField("Interstate", "BOOLEAN"),
        bigquery.SchemaField("Kerosene", "BOOLEAN"),
        bigquery.SchemaField("Kirk_Key", "BOOLEAN"),
        bigquery.SchemaField("Kronos_Maximum_Headcount", "INTEGER"),
        bigquery.SchemaField("Kronos_Minimum_Headcount", "INTEGER"),
        bigquery.SchemaField("Kronos_Store", "STRING"),
        bigquery.SchemaField("Kronos_WTK_Rollout_Date", "DATE"),
        bigquery.SchemaField("Last_Rebuild_Date", "DATE"),
        bigquery.SchemaField("Last_Remodel_Date", "DATE"),
        bigquery.SchemaField("Latitude", "FLOAT64"),
        bigquery.SchemaField("Locality", "STRING"),
        bigquery.SchemaField("Location_Type", "STRING"),
        bigquery.SchemaField("Longitude", "FLOAT64"),
        bigquery.SchemaField("Lot_Square_Footage", "FLOAT64"),
        bigquery.SchemaField("MPD", "INTEGER"),
        bigquery.SchemaField("MTO_Tier", "STRING"),
        bigquery.SchemaField("Main_Register", "INTEGER"),
        bigquery.SchemaField("Main_Road_Access_Type", "STRING"),
        bigquery.SchemaField("Maint_ASM", "STRING"),
        bigquery.SchemaField("Maint_Area", "INTEGER"),
        bigquery.SchemaField("Maint_Car_Wash_Tech", "STRING"),
        bigquery.SchemaField("Maint_Equipment_Tech", "STRING"),
        bigquery.SchemaField("Maint_FSM", "STRING"),
        bigquery.SchemaField("Maint_Facility_Support_Tech", "STRING"),
        bigquery.SchemaField("Maint_Geographical_Area", "STRING"),
        bigquery.SchemaField("Maint_Sub_Area", "STRING"),
        bigquery.SchemaField("Manager_Employee_ID", "INTEGER"),
        bigquery.SchemaField("Manager_Name", "STRING"),
        bigquery.SchemaField("Manager_Sheetz_Experience_Years", "INTEGER"),
        bigquery.SchemaField("Manager_Start_Date", "DATE"),
        bigquery.SchemaField("Marketing_Zone", "STRING"),
        bigquery.SchemaField("Meals_Tax_Percentage", "FLOAT64"),
        bigquery.SchemaField("Municipality", "STRING"),
        bigquery.SchemaField("NR_Rate", "INTEGER"),
        bigquery.SchemaField("OS_Max_Amount", "INTEGER"),
        bigquery.SchemaField("Occupancy", "INTEGER"),
        bigquery.SchemaField("Online_Ordering", "BOOLEAN"),
        bigquery.SchemaField("Open_Date", "DATE"),
        bigquery.SchemaField("Other_Tier", "STRING"),
        bigquery.SchemaField("OutSide_Seating", "INTEGER"),
        bigquery.SchemaField("Ovens", "STRING"),
        bigquery.SchemaField("PSDCode", "INTEGER"),
        bigquery.SchemaField("Parking_Stalls", "INTEGER"),
        bigquery.SchemaField("Part_Time_Employees", "INTEGER"),
        bigquery.SchemaField("Pizza_Oven", "INTEGER"),
        bigquery.SchemaField("Postal_Code", "STRING"),
        bigquery.SchemaField("Pre_Live_Date", "DATE"),
        bigquery.SchemaField("Private_Systems", "STRING"),
        bigquery.SchemaField("Propane", "BOOLEAN"),
        bigquery.SchemaField("Pump_Activation", "BOOLEAN"),
        bigquery.SchemaField("Pumps_Closed", "BOOLEAN"),
        bigquery.SchemaField("RPOS_Major_Revision", "FLOAT64"),
        bigquery.SchemaField("RTE_SS_Coffee_Tier", "STRING"),
        bigquery.SchemaField("RTE_Tier", "STRING"),
        bigquery.SchemaField("RTU_Tonnage", "FLOAT64"),
        bigquery.SchemaField("Region_Number", "STRING"),
        bigquery.SchemaField("Regional_Manager", "STRING"),
        bigquery.SchemaField("Replen_Store_Closing", "DATE"),
        bigquery.SchemaField("Replen_Store_Opening", "DATE"),
        bigquery.SchemaField("Replen_Temp_Close", "BOOLEAN"),
        bigquery.SchemaField("Rollover_Phone_Line", "STRING"),
        bigquery.SchemaField("SBC_Tier", "STRING"),
        bigquery.SchemaField("SCO_Lanes", "INTEGER"),
        bigquery.SchemaField("SHCAN_Go", "BOOLEAN"),
        bigquery.SchemaField("SS_Coffee_Tier", "STRING"),
        bigquery.SchemaField("SS_Store_Config_Type", "INTEGER"),
        bigquery.SchemaField("School", "BOOLEAN"),
        bigquery.SchemaField("Sells_Alcohol", "BOOLEAN"),
        bigquery.SchemaField("Showers", "BOOLEAN"),
        bigquery.SchemaField("Side_Road_Access", "STRING"),
        bigquery.SchemaField("Signalized_Intersection", "BOOLEAN"),
        bigquery.SchemaField("Smart_Safe", "BOOLEAN"),
        bigquery.SchemaField("Special_Directions", "STRING"),
        bigquery.SchemaField("State", "STRING"),
        bigquery.SchemaField("Store_Airport_Lookup", "STRING"),
        bigquery.SchemaField("Store_Close_Date", "DATE"),
        bigquery.SchemaField("Store_Folder_Redirect", "STRING"),
        bigquery.SchemaField("Store_Kronos_ID", "INTEGER"),
        bigquery.SchemaField("Store_Name", "STRING"),
        bigquery.SchemaField("Store_Square_Footage", "INTEGER"),
        bigquery.SchemaField("Street", "STRING"),
        bigquery.SchemaField("Telephone_Number", "STRING"),
        bigquery.SchemaField("Temporarily_Closed", "BOOLEAN"),
        bigquery.SchemaField("Tier", "STRING"),
        bigquery.SchemaField("Total_Employees", "INTEGER"),
        bigquery.SchemaField("Travel_Center", "BOOLEAN"),
        bigquery.SchemaField("Truck_Diesel_Lane_Cnt", "INTEGER"),
        bigquery.SchemaField("Truck_Parking_Spaces", "INTEGER"),
        bigquery.SchemaField("Truck_Scale", "BOOLEAN"),
        bigquery.SchemaField("Turnover_Date", "DATE"),
        bigquery.SchemaField("Uber_Eats", "BOOLEAN"),
        bigquery.SchemaField("VA_ABC_DELIVERY_PERMIT", "STRING"),
        bigquery.SchemaField("WV_DMV_Kiosk", "BOOLEAN"),
        bigquery.SchemaField("Wage_Area", "STRING"),
        bigquery.SchemaField("Washer_Dryer", "INTEGER"),
        bigquery.SchemaField("White_Block_Remodel_Date", "DATE"),
        bigquery.SchemaField("WiFi", "BOOLEAN"),
        bigquery.SchemaField("Zone", "STRING"),
        bigquery.SchemaField("store_status", "STRING")
    ],

    "product_features": [
        bigquery.SchemaField("product_id", "STRING"),
        bigquery.SchemaField("category_id", "STRING"),
        bigquery.SchemaField("department_id", "STRING"),
        bigquery.SchemaField("product_name", "STRING"),
        bigquery.SchemaField("last_modified_date", "TIMESTAMP")
    ],

    "transaction_header_fact": [
        bigquery.SchemaField("store_number", "INTEGER"),
        bigquery.SchemaField("close_date", "DATE"),
        bigquery.SchemaField("transaction_number", "INTEGER"),
        bigquery.SchemaField("business_date", "DATE"),
        bigquery.SchemaField("physical_date", "DATE"),
        bigquery.SchemaField("physical_date_time", "TIMESTAMP"),
        bigquery.SchemaField("physical_time", "STRING"),
        bigquery.SchemaField("printed", "STRING"),
        bigquery.SchemaField("employee_code", "STRING"),
        bigquery.SchemaField("discount", "FLOAT64"),
        bigquery.SchemaField("tax_total", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code1", "STRING"),
        bigquery.SchemaField("method_of_payment_amt1", "FLOAT64"),
        bigquery.SchemaField("drawer_number", "INTEGER"),
        bigquery.SchemaField("method_of_payment_code2", "STRING"),
        bigquery.SchemaField("method_of_payment_amt2", "FLOAT64"),
        bigquery.SchemaField("refund", "FLOAT64"),
        bigquery.SchemaField("change", "FLOAT64"),
        bigquery.SchemaField("void_code", "STRING"),
        bigquery.SchemaField("taxable", "STRING"),
        bigquery.SchemaField("shift_number", "INTEGER"),
        bigquery.SchemaField("bill_status", "STRING"),
        bigquery.SchemaField("station_number", "INTEGER"),
        bigquery.SchemaField("sub_total", "FLOAT64"),
        bigquery.SchemaField("cust_code", "STRING"),
        bigquery.SchemaField("cc_code", "STRING"),
        bigquery.SchemaField("ar_ref_number", "STRING"),
        bigquery.SchemaField("tax_1", "FLOAT64"),
        bigquery.SchemaField("tax_2", "FLOAT64"),
        bigquery.SchemaField("print_count", "INTEGER"),
        bigquery.SchemaField("food_change", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code3", "STRING"),
        bigquery.SchemaField("method_of_payment_amt3", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code4", "STRING"),
        bigquery.SchemaField("method_of_payment_amt4", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code5", "STRING"),
        bigquery.SchemaField("method_of_payment_amt5", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code6", "STRING"),
        bigquery.SchemaField("method_of_payment_amt6", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code7", "STRING"),
        bigquery.SchemaField("method_of_payment_amt7", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code8", "STRING"),
        bigquery.SchemaField("method_of_payment_amt8", "FLOAT64"),
        bigquery.SchemaField("method_of_payment_code9", "STRING"),
        bigquery.SchemaField("method_of_payment_amt9", "FLOAT64"),
        bigquery.SchemaField("transaction_source", "INTEGER"),
        bigquery.SchemaField("event_id", "INTEGER"),
        bigquery.SchemaField("reason_name", "STRING"),
        bigquery.SchemaField("tax_3", "FLOAT64"),
        bigquery.SchemaField("tax_4", "FLOAT64"),
        bigquery.SchemaField("tax_5", "FLOAT64"),
        bigquery.SchemaField("tax_6", "FLOAT64"),
        bigquery.SchemaField("tax_7", "FLOAT64"),
        bigquery.SchemaField("tax_8", "FLOAT64"),
        bigquery.SchemaField("tax_9", "FLOAT64"),
        bigquery.SchemaField("tax_10", "FLOAT64"),
        bigquery.SchemaField("tax_11", "FLOAT64"),
        bigquery.SchemaField("tax_12", "FLOAT64"),
        bigquery.SchemaField("tax_13", "FLOAT64"),
        bigquery.SchemaField("tax_14", "FLOAT64"),
        bigquery.SchemaField("tax_15", "FLOAT64"),
        bigquery.SchemaField("last_modified_date", "TIMESTAMP")
    ],

    "transaction_body_fact": [
        bigquery.SchemaField("store_number", "INTEGER"),
        bigquery.SchemaField("close_date", "DATE"),
        bigquery.SchemaField("business_date", "DATE"),
        bigquery.SchemaField("physical_date", "STRING"),
        bigquery.SchemaField("transaction_number", "INTEGER"),
        bigquery.SchemaField("inventory_code", "STRING"),
        bigquery.SchemaField("sold_quantity", "FLOAT64"),
        bigquery.SchemaField("extended_cost", "FLOAT64"),
        bigquery.SchemaField("adjusted", "STRING"),
        bigquery.SchemaField("description", "STRING"),
        bigquery.SchemaField("inventory_type", "STRING"),
        bigquery.SchemaField("department_category_description", "STRING"),
        bigquery.SchemaField("extended_retail", "FLOAT64"),
        bigquery.SchemaField("tax_class", "STRING"),
        bigquery.SchemaField("unit_retail", "FLOAT64"),
        bigquery.SchemaField("unit_size_code", "STRING"),
        bigquery.SchemaField("unit_size_quantity", "INTEGER"),
        bigquery.SchemaField("unit_cost", "FLOAT64"),
        bigquery.SchemaField("barcode", "STRING"),
        bigquery.SchemaField("shift_number", "INTEGER"),
        bigquery.SchemaField("drawer_number", "INTEGER"),
        bigquery.SchemaField("special_discount", "STRING"),
        bigquery.SchemaField("bill_status", "STRING"),
        bigquery.SchemaField("scanned", "STRING"),
        bigquery.SchemaField("extended_retail_adjustment", "FLOAT64"),
        bigquery.SchemaField("status", "STRING"),
        bigquery.SchemaField("fuel_volume", "FLOAT64"),
        bigquery.SchemaField("prepaid", "FLOAT64"),
        bigquery.SchemaField("pump_number", "INTEGER"),
        bigquery.SchemaField("fuel_amount", "FLOAT64"),
        bigquery.SchemaField("unit_retail_org", "FLOAT64"),
        bigquery.SchemaField("foodstamp", "STRING"),
        bigquery.SchemaField("prepay_transaction", "STRING"),
        bigquery.SchemaField("food_amount", "FLOAT64"),
        bigquery.SchemaField("item_code_ep", "STRING"),
        bigquery.SchemaField("department_category_ep", "STRING"),
        bigquery.SchemaField("department_id", "STRING"),
        bigquery.SchemaField("category_id", "STRING"),
        bigquery.SchemaField("item_number", "INTEGER"),
        bigquery.SchemaField("parent_item_number", "INTEGER"),
        bigquery.SchemaField("detail_cancel_flag_value", "STRING"),
        bigquery.SchemaField("detail_cancel_flag", "STRING"),
        bigquery.SchemaField("last_modified_date", "TIMESTAMP"),
        bigquery.SchemaField("line_number", "INTEGER")
    ]
    # "user_interactions": [
    #     bigquery.SchemaField("interaction_id", "STRING"),
    #     bigquery.SchemaField("store_number", "INTEGER"),
    #     bigquery.SchemaField("user_id", "STRING"),
    #     bigquery.SchemaField("product_id", "STRING"),
    #     bigquery.SchemaField("interaction_type", "STRING", description="purchase, view, add_to_cart"),
    #     bigquery.SchemaField("quantity", "FLOAT"),
    #     bigquery.SchemaField("amount", "FLOAT"),
    #     bigquery.SchemaField("transaction_timestamp", "TIMESTAMP"),
    #     bigquery.SchemaField("business_date", "DATE"),
    #     bigquery.SchemaField("last_modified_date", "TIMESTAMP")
    # ],

    # "user_statistics": [
    #     bigquery.SchemaField("user_id", "STRING"),
    #     bigquery.SchemaField("total_purchases", "INTEGER"),
    #     bigquery.SchemaField("total_amount", "FLOAT"),
    #     bigquery.SchemaField("avg_basket_size", "FLOAT"),
    #     bigquery.SchemaField("favorite_category", "STRING"),
    #     bigquery.SchemaField("favorite_department", "STRING"),
    #     bigquery.SchemaField("last_purchase_timestamp", "TIMESTAMP"),
    #     bigquery.SchemaField("purchase_frequency_days", "FLOAT"),
    #     bigquery.SchemaField("last_calculated_at", "TIMESTAMP")
    # ],

    # "product_statistics": [
    #     bigquery.SchemaField("product_id", "STRING"),
    #     bigquery.SchemaField("total_sales", "INTEGER"),
    #     bigquery.SchemaField("total_revenue", "FLOAT"),
    #     bigquery.SchemaField("unique_customers", "INTEGER"),
    #     bigquery.SchemaField("avg_purchase_quantity", "FLOAT"),
    #     bigquery.SchemaField("last_calculated_at", "TIMESTAMP")
    # ],
}

# Table clustering configurations
TABLE_CLUSTERING = {
    "loyalty_customer_dim": ["cardnumber"],
    "store_dim": ["store_number"],
    "product_features": ["product_id", "category_id"],
    "transaction_header_fact": ["store_number", "transaction_number"],
    "transaction_body_fact": ["store_number", "transaction_number"],
    # "user_interactions": ["user_id", "product_id"],
    # "user_statistics": ["user_id"],
    # "product_statistics": ["product_id"]
}

# Table partitioning configurations
TABLE_PARTITIONING = {
    "loyalty_customer_dim": bigquery.TimePartitioning(
        type_=bigquery.TimePartitioningType.DAY,
        field="load_date"
    ),
    "store_dim": bigquery.TimePartitioning(
        type_=bigquery.TimePartitioningType.DAY,
        field="White_Block_Remodel_Date"  # Using this as it's likely to indicate last update
    ),
    "product_features": bigquery.TimePartitioning(
        type_=bigquery.TimePartitioningType.DAY,
        field="last_modified_date"
    ),
    "transaction_header_fact": bigquery.TimePartitioning(
        type_=bigquery.TimePartitioningType.DAY,
        field="business_date"
    ),
    "transaction_body_fact": bigquery.TimePartitioning(
        type_=bigquery.TimePartitioningType.DAY,
        field="business_date"
    )
    # "user_interactions": bigquery.TimePartitioning(
    #     type_=bigquery.TimePartitioningType.DAY,
    #     field="business_date"
    # ),
    # "user_statistics": bigquery.TimePartitioning(
    #     type_=bigquery.TimePartitioningType.DAY,
    #     field="last_calculated_at"
    # ),
    # "product_statistics": bigquery.TimePartitioning(
    #     type_=bigquery.TimePartitioningType.DAY,
    #     field="last_calculated_at"
    # )
}